/**
 * Created by w44 on 15-1-12.
 */


var mongodb = require('mongodb');

var config = require('print_config');
var prop = config.prop;
var server = new mongodb.Server(prop.mongodbUrl, prop.mongodbPort, {auto_reconnect: true});

var db = new mongodb.Db(prop.dbName, server, {safe: true});

var MongoDBUtil = function () {
    db.open(function (err, db) {
        return db;
    });
    return db;
};

var mongoDBUtil = new MongoDBUtil();
module.exports = mongoDBUtil;