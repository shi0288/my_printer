/**
 * Created by obzerg on 14-9-3.
 *
 * 平台与终端之间的玩法,转换类
 */


var TerminalDataUtil=function(){};

TerminalDataUtil.prototype.gameCodeTrans = {
    'T01': {
        'code': '03',
        'playType': {
            '0000': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0001': {
                'tCode': 'fsdt',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0002': {
                'tCode': 'fsdt',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0500': {
                'tCode': 'zjds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0501': {
                'tCode': 'zjdt',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0502': {
                'tCode': 'zjdt',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            }
        }
    }, 'T02': {
        'code': '05',
        'playType': {
            '0000': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0001': {
                'tCode': 'fs',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            }
        }
    }, 'T03': {
        'code': '01',
        'playType': {
            '0100': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0101': {
                'tCode': 'fs',
                'tKeyboard': 'F1:2\n' + 'F2:00\n',
                'name': ''
            },
            '0103': {
                'tCode': 'zhxhz',
                'tKeyboard': 'F1:0\n' + 'F2:05\n',
                'name': ''
            },
            '0104': {
                'tCode': 'zhxzhfs',
                'tKeyboard': 'F1:0\n' + 'F2:07\n',
                'name': ''
            },
            '0105': {
                'tCode': 'zhxzhtd',
                'tKeyboard': 'F1:0\n' + 'F2:08\n',
                'name': ''
            },
            '0106': {
                'tCode': 'zhxkdfs',
                'tKeyboard': 'F1:0\n' + 'F2:11\n',
                'name': ''
            },
            '0400': {
                'tCode': 'zx',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0403': {
                'tCode': 'zxhz',
                'tKeyboard': 'F1:0\n' + 'F2:06\n',
                'name': ''
            },
            '0201': {
                'tCode': 'zx3fs',
                'tKeyboard': 'F1:0\n' + 'F2:03\n',
                'name': ''
            },
            '0202': {
                'tCode': 'Zx3td',
                'tKeyboard': 'F1:0\n' + 'F2:09\n',
                'name': ''
            },
            '0206': {
                'tCode': 'zx3kdfs',
                'tKeyboard': 'F1:0\n' + 'F2:12\n',
                'name': ''
            },
            '0301': {
                'tCode': 'zx6fs',
                'tKeyboard': 'F1:0\n' + 'F2:04\n',
                'name': ''
            },
            '0302': {
                'tCode': 'Zx6td',
                'tKeyboard': 'F1:0\n' + 'F2:10\n',
                'name': ''
            },
            '0306': {
                'tCode': 'zx6kdfs',
                'tKeyboard': 'F1:0\n' + 'F2:13\n',
                'name': ''
            }
        }
    }, 'T04': {
        'code': '09',
        'playType': {
            '0000': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0001': {
                'tCode': 'fs',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            }
        }
    }, 'T05': {
        'code': '04',
        'playType': {
            '2101': {
                'tCode': 'rx1fs',
                'tKeyboard': 'F1:0\n' + 'F2:01\n',
                'name': '任选一.复式票'
            },
            '2200': {
                'tCode': 'rx2ds',
                'tKeyboard': 'F1:0\n' + 'F2:02\n',
                'name': '任选二.单式票'
            },
            '2201': {
                'tCode': 'rx2dt',
                'tKeyboard': 'F1:1\n' + 'F2:02\n',
                'name': '任选二.复式票'
            },
            '2202': {
                'tCode': 'rx2dt',
                'tKeyboard': 'F1:1\n' + 'F2:02\n',
                'name': '任选二.胆拖票'
            },
            '2300': {
                'tCode': 'rx3ds',
                'tKeyboard': 'F1:0\n' + 'F2:03\n',
                'name': '任选三.单式票'
            },
            '2301': {
                'tCode': 'rx3dt',
                'tKeyboard': 'F1:1\n' + 'F2:03\n',
                'name': '任选三.复式票'
            },
            '2302': {
                'tCode': 'rx3dt',
                'tKeyboard': 'F1:1\n' + 'F2:03\n',
                'name': '任选三.胆拖票'
            },
            '2400': {
                'tCode': 'rx4ds',
                'tKeyboard': 'F1:0\n' + 'F2:04\n',
                'name': '任选四.单式票'
            },
            '2401': {
                'tCode': 'rx4dt',
                'tKeyboard': 'F1:1\n' + 'F2:04\n',
                'name': '任选四.复式票'
            },
            '2402': {
                'tCode': 'rx4dt',
                'tKeyboard': 'F1:1\n' + 'F2:04\n',
                'name': '任选四.胆拖票'
            },
            '2500': {
                'tCode': 'rx5ds',
                'tKeyboard': 'F1:0\n' + 'F2:05\n',
                'name': '任选五.单式票'
            },
            '2501': {
                'tCode': 'rx5dt',
                'tKeyboard': 'F1:1\n' + 'F2:05\n',
                'name': '任选五.复式票'
            },
            '2502': {
                'tCode': 'rx5dt',
                'tKeyboard': 'F1:1\n' + 'F2:05\n',
                'name': '任选五.胆拖票'
            },
            '2600': {
                'tCode': 'rx6ds',
                'tKeyboard': 'F1:0\n' + 'F2:06\n',
                'name': '任选六.单式票'
            },
            '2601': {
                'tCode': 'rx6dt',
                'tKeyboard': 'F1:1\n' + 'F2:06\n',
                'name': '任选六.复式票'
            },
            '2602': {
                'tCode': 'rx6dt',
                'tKeyboard': 'F1:1\n' + 'F2:06\n',
                'name': '任选六.胆拖票'
            },
            '2700': {
                'tCode': 'rx7ds',
                'tKeyboard': 'F1:0\n' + 'F2:07\n',
                'name': '任选七.单式票'
            },
            '2701': {
                'tCode': 'rx7dt',
                'tKeyboard': 'F1:1\n' + 'F2:07\n',
                'name': '任选七.复式票'
            },
            '2702': {
                'tCode': 'rx7dt',
                'tKeyboard': 'F1:1\n' + 'F2:07\n',
                'name': '任选七.胆拖票'
            },
            '2800': {
                'tCode': 'rx8ds',
                'tKeyboard': 'F1:0\n' + 'F2:08\n',
                'name': '任选八.单式票'
            },
            '2900': {
                'tCode': 'xq2zxds',
                'tKeyboard': 'F1:0\n' + 'F2:09\n',
                'name': '选前二组选.单式票'
            },
            '2901': {
                'tCode': 'xq2zxdt',
                'tKeyboard': 'F1:1\n' + 'F2:09\n',
                'name': '选前二组选.复式票'
            },
            '2902': {
                'tCode': 'xq2zxdt',
                'tKeyboard': 'F1:1\n' + 'F2:09\n',
                'name': '选前二组选.胆拖票'
            },
            '2903': {
                'tCode': 'xq2zxhz',
                'tKeyboard': 'F1:2\n' + 'F2:09\n',
                'name': '选前二组选.组选和值票'
            },
            '2906': {
                'tCode': 'xq2zxkd',
                'tKeyboard': 'F1:3\n' + 'F2:09\n',
                'name': '选前二组选.组选跨度票'
            },
            '3000': {
                'tCode': 'xq2zhxds',
                'tKeyboard': 'F1:0\n' + 'F2:10\n',
                'name': '选前二直选.单式票'
            },
            '3001': {
                'tCode': 'xq2zhxfs',
                'tKeyboard': 'F1:1\n' + 'F2:10\n',
                'name': '选前二直选.复式票'
            },
            '3007': {
                'tCode': 'xq2zhxdwfs',
                'tKeyboard': 'F1:2\n' + 'F2:10\n',
                'name': '选前二直选.定位复式票'
            },
            '3003': {
                'tCode': 'xq2zhxhz',
                'tKeyboard': 'F1:3\n' + 'F2:10\n',
                'name': '选前二直选.直选和值票'
            },
            '3006': {
                'tCode': 'xq2zhxkd',
                'tKeyboard': 'F1:4\n' + 'F2:10\n',
                'name': '选前二直选.直选跨度票'
            },
            '3100': {
                'tCode': 'xq3zxds',
                'tKeyboard': 'F1:0\n' + 'F2:11\n',
                'name': '选前三组选.单式票'
            },
            '3101': {
                'tCode': 'xq3zxdt',
                'tKeyboard': 'F1:1\n' + 'F2:11\n',
                'name': '选前三组选.复式票'
            },
            '3102': {
                'tCode': 'xq3zxdt',
                'tKeyboard': 'F1:1\n' + 'F2:11\n',
                'name': '选前三组选.胆拖票'
            },
            '3103': {
                'tCode': 'xq3zxhz',
                'tKeyboard': 'F1:2\n' + 'F2:11\n',
                'name': '选前三组选.组选和值票'
            },
            '3106': {
                'tCode': 'xq3zxkd',
                'tKeyboard': 'F1:3\n' + 'F2:11\n',
                'name': '选前三组选.组选跨度票'
            },
            '3200': {
                'tCode': 'xq3zhxds',
                'tKeyboard': 'F1:0\n' + 'F2:12\n',
                'name': '选前三直选.单式票'
            },
            '3201': {
                'tCode': 'xq3zhxfs',
                'tKeyboard': 'F1:1\n' + 'F2:12\n',
                'name': '选前三直选.复式票'
            },
            '3207': {
                'tCode': 'xq3zhxdwfs',
                'tKeyboard': 'F1:2\n' + 'F2:12\n',
                'name': '选前三直选.定位复式票'
            },
            '3203': {
                'tCode': 'xq3zhxhz',
                'tKeyboard': 'F1:3\n' + 'F2:12\n',
                'name': '选前三直选.直选和值票'
            },
            '3206': {
                'tCode': 'xq3zhxkd',
                'tKeyboard': 'F1:4\n' + 'F2:12\n',
                'name': '选前三直选.直选跨度票'
            }
        }
    }, 'T06': {
        'code': '11',
        'playType': {
            '0000': {
                'tCode': 'zx',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0100': {
                'tCode': 'zx',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0101': {
                'tCode': 'zx24fs',
                'tKeyboard': 'F1:0\n' + 'F2:05\n',
                'name': ''
            },
            '0102': {
                'tCode': 'zx24dt',
                'tKeyboard': 'F1:0\n' + 'F2:09\n',
                'name': ''
            },
            '0200': {
                'tCode': 'zx',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0201': {
                'tCode': 'zx12fs',
                'tKeyboard': 'F1:0\n' + 'F2:04\n',
                'name': ''
            },
            '0202': {
                'tCode': 'zx12dt',
                'tKeyboard': 'F1:0\n' + 'F2:08\n',
                'name': ''
            },
            '0208': {
                'tCode': 'zx12chdt',
                'tKeyboard': 'F1:0\n' + 'F2:13\n',
                'name': ''
            },
            '0300': {
                'tCode': 'zx',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0301': {
                'tCode': 'zx6fs',
                'tKeyboard': 'F1:0\n' + 'F2:03\n',
                'name': ''
            },
            '0302': {
                'tCode': 'zx6dt',
                'tKeyboard': 'F1:0\n' + 'F2:07\n',
                'name': ''
            },
            '0400': {
                'tCode': 'zx',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0401': {
                'tCode': 'zx4fs',
                'tKeyboard': 'F1:0\n' + 'F2:02\n',
                'name': ''
            },
            '0402': {
                'tCode': 'zx4dt',
                'tKeyboard': 'F1:0\n' + 'F2:06\n',
                'name': ''
            },
            '0408': {
                'tCode': 'zx4chdt',
                'tKeyboard': 'F1:0\n' + 'F2:12\n',
                'name': ''
            },
            '0500': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0501': {
                'tCode': 'Fs',
                'tKeyboard': 'F1:2\n' + 'F2:00\n',
                'name': ''
            },
            '0600': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0601': {
                'tCode': 'Fs',
                'tKeyboard': 'F1:2\n' + 'F2:00\n',
                'name': ''
            },
            '0603': {
                'tCode': 'rx2hz',
                'tKeyboard': 'F1:0\n' + 'F2:10\n',
                'name': ''
            },
            '0606': {
                'tCode': 'rx2kd',
                'tKeyboard': 'F1:0\n' + 'F2:11\n',
                'name': ''
            },
            '0609': {
                'tCode': 'rx2qb',
                'tKeyboard': 'F1:0\n' + 'F2:14\n',
                'name': ''
            },
            '0700': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0701': {
                'tCode': 'Fs',
                'tKeyboard': 'F1:2\n' + 'F2:00\n',
                'name': ''
            },
            '0709': {
                'tCode': 'rx3qb',
                'tKeyboard': 'F1:0\n' + 'F2:15\n',
                'name': ''
            },
            '0800': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0801': {
                'tCode': 'Fs',
                'tKeyboard': 'F1:2\n' + 'F2:00\n',
                'name': ''
            },
            '0900': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0901': {
                'tCode': 'Fs',
                'tKeyboard': 'F1:2\n' + 'F2:00\n',
                'name': ''
            },
            '0902': {
                'tCode': 'Zh',
                'tKeyboard': 'F1:3\n' + 'F2:00\n',
                'name': ''
            }
        }
    },
    'T53': {
        'code01': '07',
        'code02': '10',
        'playType': {
            '0100': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0101': {
                'tCode': 'fs',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            },
            '0200': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0201': {
                'tCode': 'fs',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            }
        }
    },
    'T51': {
        'code': '51',
        'tCode': 'jc',
        'playType': {
            '01': {
                'tCode': 'jc',
                'tKeyboard': 'F1:0\n',
                'name': ''
            },
            '02': {
                'tCode': 'jc',
                'tKeyboard': 'F1:0\n',
                'name': ''
            },
            '03': {
                'tCode': 'jc',
                'tKeyboard': 'F1:0\n',
                'name': ''
            },
            '04': {
                'tCode': 'jc',
                'tKeyboard': 'F1:0\n',
                'name': ''
            },
            '05': {
                'tCode': 'jc',
                'tKeyboard': 'F1:0\n',
                'name': ''
            },
            '06': {
                'tCode': 'jc',
                'tKeyboard': 'F1:0\n',
                'name': ''
            }
        }
    },
    'T54': {
        'code': '02',
        'playType': {
            '0100': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0101': {
                'tCode': 'fs',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            }
        }
    },
    'T55': {
        'code': '08',
        'playType': {
            '0100': {
                'tCode': 'ds',
                'tKeyboard': 'F1:0\n' + 'F2:00\n',
                'name': ''
            },
            '0101': {
                'tCode': 'fs',
                'tKeyboard': 'F1:1\n' + 'F2:00\n',
                'name': ''
            }
        }
    }
};

var gameCodeTrans4Search = {
    'T05': '0004',
    '0004': 'T05',
    'T06': '0002',
    '0002': 'T06'
};


/**
 * 11选5号码处理
 * @param playTypeCode  玩法
 * @param betTypeCode   投注方式
 * @param number        具体号码
 * @constructor
 *
 * 无论玩法如何,投注方式只有如下几种
 * 00 单式
 * 01 复式
 * 02 胆拖
 * 03 和值
 * 06 跨度
 * 07 定位
 *
 */
TerminalDataUtil.prototype.numberTrans = function (gameCode, playTypeCode, betTypeCode, number) {
    var result = '';
    if (gameCode == 'T05') {
        switch (betTypeCode) {
            case '00':
            case '03':
            case '06':
                //单式,一张票最多出5个号码,无需换行,直接替换所有符号
                //和值与单式相同,一起处理
                //跨度与单式相同,一起处理
                result = number.replace(/\D/g, ' ');
                break;
            case '01':
                result = '# ' + number.replace(/\D/g, ' ');
                if (playTypeCode == '21') {
                    //任选一复式较特殊,需要单独处理
                    result = number.replace(/\D/g, ' ');
                }
                break;
            case '02':
                //胆拖,需要先输入胆码然后换行输入托码
                var numbers = number.split(/\$/g);
                var d = numbers[0].replace(/\D/g, ' ');
                var t = numbers[1].replace(/\D/g, ' ');
                result = d + ' #\n' + t;
                break;
            case '07':
                //定位会有2排或者3排,需要循环执行
                var numbers = number.split(/\|/g);
                for (var i = 0; i < numbers.length; i++) {
                    if (i == numbers.length - 1) {
                        result += numbers[i].replace(/\D/g, ' ');
                    } else {
                        result += numbers[i].replace(/\D/g, ' ') + ' #\n';
                    }
                }
                break;
        }
        return result;
    } else if (gameCode == 'T01') {
        switch (betTypeCode) {
            case '00':
                //单式,一张票最多出5个号码,无需换行,直接替换所有符号
                result = number.replace(/\D/g, ' ');
                break;
            case '01':
                //复式需要转化成胆拖
                //前区
                var numbers = number.split(/\|/g);

                result = '#\n' + numbers[0].replace(/\D/g, ' ') + '#\n#\n' + numbers[1].replace(/\D/g, ' ');
                break;
            case '02':
                //胆拖,需要先输入胆码然后换行输入托码
                //先根据|拆分成前区和后区,再根据$拆分胆码和脱码
                var numbers = number.split(/\|/g);
                //前区
                var qq = numbers[0].split(/\$/g);
                var qd = '';
                var qt = '';
                if (qq.length == 1) {
                    //前区只有拖码没有胆码
                    qt = qq[0].replace(/\D/g, ' ');
                } else {
                    //前区胆
                    qd = qq[0].replace(/\D/g, ' ');
                    //前区脱
                    qt = qq[1].replace(/\D/g, ' ');
                    //后区
                }
                var hq = numbers[1].split(/\$/g);
                //注意判断
                var hd_ht = '';
                if (hq.length == 1) {
                    hd_ht = '#\n' + hq[0].replace(/\D/g, ' ');
                } else {
                    hd_ht = hq[0].replace(/\D/g, ' ') + '#\n' + hq[1].replace(/\D/g, ' ');
                }
                result = qd + '#\n' + qt + '#\n' + hd_ht;
                break;
        }
        return result;
    } else if (gameCode == 'T02') {
        switch (betTypeCode) {
            case '00':
                //单式,一张票最多出5个号码,无需换行,直接替换所有符号
                result = number.replace(/\D/g, ' ');
                break;
            case '01':
                result = number.replace(/\|/g, ' #\n').replace(/,/g, ' ');
                break;
        }
        return result;
    } else if (gameCode == 'T03') {
        switch (betTypeCode) {
            case '00':
            case '06':
            case '04':
                //单式,一张票最多出5个号码,无需换行,直接替换所有符号
                //跨度与单式相同,一起处理
                result = number.replace(/\D/g, ' ');
                break;
            case '01':
                result = number.replace(/\|/g, ' #\n').replace(/,/g, ' ');
                break;
            case '02':
            case '05':
                //胆拖,需要先输入胆码然后换行输入托码
                var numbers = number.split(/\$/g);
                var d = numbers[0].replace(/\D/g, ' ');
                var t = numbers[1].replace(/\D/g, ' ');
                result = d + ' #\n' + t;
                break;
            case '03':
                //和值
                var numbers = number.split(/\,/);
                for (var i = 0; i < numbers.length; i++) {
                    var pos = parseInt(numbers[i]);
                    if (pos < 10) {
                        result += '0' + pos + ' ';
                    } else {
                        result += numbers[i] + ' ';
                    }
                }
                result = result.trim();
                break;
        }
        return result;
    } else if (gameCode == 'T04') {
        switch (betTypeCode) {
            case '00':
                //单式,一张票最多出5个号码,无需换行,直接替换所有符号
                //和值与单式相同,一起处理
                //跨度与单式相同,一起处理
                result = number.replace(/\D/g, ' ');
                break;
            case '01':
                result = number.replace(/\|/g, ' #\n').replace(/,/g, ' ');
                break;
        }
        return result;
    } else if (gameCode == 'T06') {
        if ('09' != playTypeCode) {
            switch (betTypeCode) {
                case '00':
                case '09':
                    //单式,一张票最多出5个号码,无需换行,直接替换所有符号
                    if ('05' == playTypeCode || '06' == playTypeCode || '07' == playTypeCode) {
                        result = number.replace(/\_/g, '@').replace(/\|/g, ' ').replace(/\;/g, '#');
                    } else {
                        result = number.replace(/\D/g, ' ');
                    }
                    break;
                case '01':
                    if ('05' == playTypeCode || '06' == playTypeCode || '07' == playTypeCode) {
                        result = number.replace(/\,/g, ' ').replace(/\|/g, '#').replace(/\_/g, '@');
                    } else {
                        result = number.replace(/\|/g, '#').replace(/\,/g, ' ');
                    }
                    break;
                case '02':
                case '08':
                    result = number.replace(/\$/g, '#').replace(/\|/g, '#').replace(/\,/g, ' ');
                    break;
                case '03':
                case '06':
                    result = number.replace(/\|/g, '#').replace(/\,/g, ' ');
                    break;
            }
        } else {
            if ('00' == betTypeCode) {
                //任选组合有下划线,需要单独处理
                //先根据逗号换行,
                result = number.replace(/;/g, '#').replace(/\_/g, '@').replace(/\|/g, ' ');
            } else if ('01' == betTypeCode) {
                //竖线是换行,下划线是空选
                result = number.replace(/\_/g, '@').replace(/\|/g, '#').replace(/,/g, ' ');
            } else {
                result = number.replace(/\|/g, '#').replace(/,/, ' ');
            }
        }
        return result;
    } else if (gameCode == 'T53') {
        switch (betTypeCode) {
            case '00':
                //单式,所有竖线换成空格
                if (playTypeCode == '01') {
                    result = number.replace(/\D/g, ' ');
                } else {
                    var _nums = number.split(/\;/);
                    if (_nums.length > 0) {
                        for (var _i = 0; _i < _nums.length; _i++) {
                            var numbers = _nums[_i].split(/\|/);
                            var pos = 0;
                            for (var i = 0; i < numbers.length; i++) {
                                if (!isNaN(numbers[i])) {
                                    pos++;
                                }
                                if (pos == 9) {
                                    pos = 0;
                                    result += numbers[i].replace(/\,/g, ' ') + ' ';
                                    break;
                                }
                                if (numbers[i] == '_') {
                                    result += '@ ';
                                } else {
                                    result += numbers[i].replace(/\,/g, ' ') + ' ';
                                }
                            }
                            result += '\n'
                        }
                    } else {
                        var numbers = number.split(/\|/);
                        var pos = 0;
                        for (var i = 0; i < numbers.length; i++) {
                            if (!isNaN(numbers[i])) {
                                pos++;
                            }
                            if (pos == 9) {
                                pos = 0;
                                result += numbers[i].replace(/\,/g, ' ') + ' ';
                                break;
                            }
                            if (numbers[i] == '_') {
                                result += '@ ';
                            } else {
                                result += numbers[i].replace(/\,/g, ' ') + ' ';
                            }
                        }
                    }

                }
                break;
            case '01':
                //复式,所有逗号换成空格,竖线换成换行符
                //result = number.replace(/\_\|/g, '@').replace(/\|\_/g, '@').replace(/\|\_\|/g, '@').replace(/\|/g, '@').replace(/\,/g, ' ').replace(/\_/g, '');
                var numbers = number.split(/\|/);
                for (var i = 0; i < numbers.length; i++) {
                    if (numbers[i] == '_') {
                        result += ' @ ';
                    } else {
                        result += numbers[i].replace(/\,/g, ' ') + ' @ ';
                    }
                }
                break;
        }
        return result;
    } else if (gameCode == 'T54') {
        switch (betTypeCode) {
            case '00':
                //单式,所有竖线换成空格
                result = number.replace(/\+/g, '').replace(/\D/g, ' ');
                break;
            case '01':
                //复式,所有逗号换成空格,竖线换成换行符
                result = number.replace(/\+/g, '').replace(/\,/g, ' ').replace(/\|/g, ' @ ');
                break;
        }
        return result;
    } else if (gameCode == 'T55') {
        switch (betTypeCode) {
            case '00':
                //单式,所有竖线换成空格
                result = number.replace(/\D/g, ' ').replace(/\_/, '@');
                break;
            case '01':
                //复式,所有逗号换成空格,竖线换成换行符
                result = number.replace(/\,/g, ' ').replace(/\|/g, '@');
                break;
        }
        return result;
    } else if (gameCode == 'T51') {
        //竞彩,首先切割投注号码
        var arr = number.split(';');

        for (var i = 0; i < arr.length; i++) {
            var item = arr[i];
            var info = item.split('|');
            var date_index = info[1];
            //获取参数
            var date = date_index.substr(date_index.length - 4, 1);
            var index = date_index.substr(date_index.length - 3, 3);
            var num = info[2].replace(/,/g, ' ');
            var temp = date + ' ' + index + ' ' + num + ' /\n';
            result += temp;
        }
        return result;
    }
};


/**
 * 用于提取票面可用信息
 * @param text  原始票面信息
 * @param startLineNumber   标题行(example: 选前三组选.组选跨度票)
 * @param lineNumber    不含标题行,号码行数
 */

TerminalDataUtil.prototype.getNumbers = function (text, index) {
    var num = index || 5;
    return getNum(text, 4, num);
};

function getNum(text, startLineNumber, lineNumber) {
    //首先根据换行切割票
    var arr = text.split(/\n/);
    var result = [];
    result.push(arr[startLineNumber]);
    console.log('---开始转换---');
    for (var i = 1; i < lineNumber + 2; i++) {
        console.log(startLineNumber + i);
        if (arr[i] + 1) {
            result.push(arr[startLineNumber + i].replace(/\D/g, ''));
        }
    }
    return result;
}


TerminalDataUtil.prototype.transNumbers= function (gameCode, ptc, btc, multiple) {
    var self=this;
    var playTypeBetType = ptc + btc;
    var result = '';
    switch (gameCode) {
        //单式,一张票最多出5个号码,无需换行,直接替换所有符号
        //和值与单式相同,一起处理
        //跨度与单式相同,一起处理
        case 'T01':
            if (playTypeBetType == '0000' || playTypeBetType == '0001' || playTypeBetType == '0002') {
                result = self.gameCodeTrans[gameCode].playType[playTypeBetType].tKeyboard + 'F5:' + multiple + '\n-:00\n';
            } else {
                result = self.gameCodeTrans[gameCode].playType[playTypeBetType].tKeyboard + 'F5:' + multiple + '\n-:01\n';
            }
            break;
        case 'T05':
        case 'T02':
        case 'T03':
        case 'T04':
        case 'T06':
            result = self.gameCodeTrans[gameCode].playType[playTypeBetType].tKeyboard + 'F5:' + multiple + '\n-:00\n';
            break;
        case 'T53':
        case 'T54':
        case 'T55':
            result = self.gameCodeTrans[gameCode].playType[playTypeBetType].tKeyboard + 'F5:' + multiple + '\n';
            break;
        case 'T51':
            result = self.gameCodeTrans[gameCode].playType[ptc].tKeyboard + 'F2:'+ jcTrans[btc] +' \nF5:' + multiple + '\n-:00\n ';
            console.log(jcTrans[btc]);
            break;
    }

    return result;
};

var jcTrans = {
    '01': '01',
    '21': '02',
    '23': '03',
    '31': '02',
    '33': '03',
    '34': '04',
    '37': '05',
    '41': '02',
    '44': '03',
    '45': '04',
    '46': '05',
    '410': '06',
    '411': '07',
    '414': '08',
    '415': '09',
    '51': '02',
    '55': '03',
    '56': '04',
    '510': '05',
    '515': '06',
    '516': '07',
    '520': '08',
    '525': '09',
    '526': '10',
    '530': '11',
    '531': '12',
    '61': '02',
    '66': '03',
    '67': '04',
    '615': '05',
    '620': '06',
    '621': '07',
    '622': '08',
    '635': '09',
    '641': '10',
    '642': '11',
    '650': '12',
    '656': '13',
    '657': '14',
    '662': '15',
    '663': '16',
    '71': '02',
    '77': '03',
    '78': '04',
    '721': '05',
    '735': '06',
    '7120': '07',
    '7127': '08'
};

var terminalDataUtil=new TerminalDataUtil();

module.exports = terminalDataUtil ;
