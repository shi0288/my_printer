/**
 * Created by w44 on 15-1-7.
 */


var cons = require('print_constants');
var msgParam = cons.msgParam;

var DataUtil = function () {
};

DataUtil.prototype.parse = function (dataBuf) {
    var headNode={};
    var encoding = msgParam.encoding;
    try{
    headNode.packageLength = dataBuf.readInt32BE(msgParam.packageBufIndex.start, msgParam.packageBufIndex.end);
    headNode.cmd = dataBuf.toString(encoding, msgParam.cmdBufIndex.start, msgParam.cmdBufIndex.end);
    headNode.sequenceId = dataBuf.toString(encoding, msgParam.sequenceIdBufIndex.start, msgParam.sequenceIdBufIndex.end);
    headNode.terminalId = dataBuf.toString(encoding, msgParam.terminalIdBufIndex.start, msgParam.terminalIdBufIndex.end);
    }catch (err){
       console.log('头信息解析出错！');
       console.log(err);
       headNode = null;
    }
    return headNode;
};


module.exports = new DataUtil();